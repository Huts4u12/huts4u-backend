"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[627],{26600:(e,t,o)=>{o.d(t,{A:()=>x});var n=o(65043),s=o(58387),r=o(98610),l=o(94496),i=o(34535),c=o(98206),a=o(87034),d=o(2563),h=o(70579);const A=(0,i.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=n.forwardRef((function(e,t){const o=(0,c.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:i,...x}=o,u=o,j=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},a.t,t)})(u),{titleId:p=i}=n.useContext(d.A);return(0,h.jsx)(A,{component:"h2",className:(0,s.A)(j.root,l),ownerState:u,ref:t,variant:"h6",id:i??p,...x})}))},29347:(e,t,o)=>{o.d(t,{A:()=>x});var n=o(65043),s=o(58387),r=o(98610),l=o(34535),i=o(98206),c=o(92532),a=o(72372);function d(e){return(0,a.Ay)("MuiDialogActions",e)}(0,c.A)("MuiDialogActions",["root","spacing"]);var h=o(70579);const A=(0,l.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),x=n.forwardRef((function(e,t){const o=(0,i.b)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1,...c}=o,a={...o,disableSpacing:l},x=(e=>{const{classes:t,disableSpacing:o}=e,n={root:["root",!o&&"spacing"]};return(0,r.A)(n,d,t)})(a);return(0,h.jsx)(A,{className:(0,s.A)(x.root,n),ownerState:a,ref:t,...c})}))},51387:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(59662),s=o(70579);const r=(0,n.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},83560:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(59662),s=o(70579);const r=(0,n.A)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98627:(e,t,o)=>{o.r(t),o.d(t,{default:()=>L});var n=o(65043),s=o(7353),r=o(12110),l=o(26494),i=o(94496),c=o(79650),a=o(61596),d=o(71806),h=o(84882),A=o(28076),x=o(10039),u=o(73460),j=o(17392),p=o(83462),g=o(26600),m=o(35316),f=o(58387),v=o(98610),y=o(61475),D=o(34535),w=o(98206),k=o(92532),S=o(72372);function C(e){return(0,S.Ay)("MuiDialogContentText",e)}(0,k.A)("MuiDialogContentText",["root"]);var N=o(70579);const b=(0,D.Ay)(i.A,{shouldForwardProp:e=>(0,y.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),M=n.forwardRef((function(e,t){const o=(0,w.b)({props:e,name:"MuiDialogContentText"}),{children:n,className:s,...r}=o,l=(e=>{const{classes:t}=e,o=(0,v.A)({root:["root"]},C,t);return{...t,...o}})(r);return(0,N.jsx)(b,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:r,className:(0,f.A)(l.root,s),...o,classes:l})}));var T=o(29347),H=o(11906),R=o(83560),I=o(51387),z=o(69995),B=o(57488),F=o(73216);const L=()=>{const[e,t]=(0,n.useState)([]),[o,f]=(0,n.useState)([]),[v,y]=(0,n.useState)(!1),[D,w]=(0,n.useState)(null),[k,S]=(0,n.useState)(null),[C,b]=(0,n.useState)("");(0,n.useEffect)((()=>{const e={data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]};(0,z.NO)(e).then((e=>{var o,n;const s=((null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.rows)||[]).filter((e=>e.checkInDate)).sort(((e,t)=>new Date(t.checkInDate).getTime()-new Date(e.checkInDate).getTime()));t(s)})).catch((e=>{console.log(e)})),(0,z.Vy)(e).then((e=>{var t,o;f((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.rows)||[])})).catch((e=>{console.log(e)}))}),[]);const L=e=>{const t=e.toString();return t.slice(0,-2)+"."+t.slice(-2)},O=(0,F.Zp)(),V=()=>{y(!1),w(null),S(null),b("")};return(0,N.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:3,padding:3,width:"90%",alignItems:"center"},children:[(0,N.jsx)(r.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,N.jsxs)(l.A,{sx:{flex:1},children:[(0,N.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Booking Table"}),(0,N.jsx)(c.A,{component:a.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,N.jsxs)(d.A,{stickyHeader:!0,children:[(0,N.jsx)(h.A,{children:(0,N.jsxs)(A.A,{children:[(0,N.jsx)(x.A,{children:"Booking ID"}),(0,N.jsx)(x.A,{children:"Hotel Name"}),(0,N.jsx)(x.A,{children:"Guest Name"}),(0,N.jsx)(x.A,{children:"Check-In"}),(0,N.jsx)(x.A,{children:"Check-Out"}),(0,N.jsx)(x.A,{children:"Status"}),(0,N.jsx)(x.A,{children:"Amount"})]})}),(0,N.jsx)(u.A,{children:e.map((e=>(0,N.jsxs)(A.A,{children:[(0,N.jsx)(x.A,{children:e.id}),(0,N.jsx)(x.A,{children:(null===e||void 0===e?void 0:e.hotelName)||"N/A"}),(0,N.jsx)(x.A,{children:(null===e||void 0===e?void 0:e.geustName)||"N/A"}),(0,N.jsx)(x.A,{children:e.checkInDate||"N/A"}),(0,N.jsx)(x.A,{children:e.checkOutDate||"N/A"}),(0,N.jsx)(x.A,{children:e.status||"N/A"}),(0,N.jsxs)(x.A,{children:["\u20b9",L(e.amountPaid)||"0"]})]},e.id)))})]})})]})}),(0,N.jsx)(r.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,N.jsxs)(l.A,{sx:{flex:1},children:[(0,N.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Hotel Table"}),(0,N.jsx)(c.A,{component:a.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,N.jsxs)(d.A,{stickyHeader:!0,children:[(0,N.jsx)(h.A,{children:(0,N.jsxs)(A.A,{children:[(0,N.jsx)(x.A,{children:"ID"}),(0,N.jsx)(x.A,{children:"Hotel Name"}),(0,N.jsx)(x.A,{children:"Location"}),(0,N.jsx)(x.A,{children:"Contact"}),(0,N.jsx)(x.A,{children:"Actions"})]})}),(0,N.jsx)(u.A,{children:o.map((e=>(0,N.jsxs)(A.A,{children:[(0,N.jsx)(x.A,{children:e.id}),(0,N.jsx)(x.A,{children:e.propertyName}),(0,N.jsx)(x.A,{children:e.city}),(0,N.jsx)(x.A,{children:e.ownerMobile}),(0,N.jsxs)(x.A,{children:[(0,N.jsx)(j.A,{color:"primary",onClick:()=>O("/property-registration",{state:e.id}),children:(0,N.jsx)(R.A,{})}),(0,N.jsx)(j.A,{color:"error",onClick:()=>{return t=e.id,o="hotel",n=e.propertyName,w(t),S(o),b(n),void y(!0);var t,o,n},children:(0,N.jsx)(I.A,{})})]})]},e.id)))})]})})]})}),(0,N.jsxs)(p.A,{open:v,onClose:V,children:[(0,N.jsx)(g.A,{children:"Confirm Deletion"}),(0,N.jsx)(m.A,{children:(0,N.jsx)(M,{children:"hotel"===k?`Are you sure you want to delete the hotel "${C}"? This action cannot be undone.`:`Are you sure you want to delete the booking "${C}"? This action cannot be undone.`})}),(0,N.jsxs)(T.A,{children:[(0,N.jsx)(H.A,{onClick:V,color:"primary",children:"Cancel"}),(0,N.jsxs)(H.A,{onClick:()=>{D&&k&&("hotel"===k&&(0,z.GM)(D).then((e=>{f(o.filter((e=>e.id!==D))),B.oR.success("Hotel deleted successfully")})).catch((e=>{console.log(e),B.oR.error("Failed to delete hotel")})),V())},color:"error",autoFocus:!0,children:["Delete ","hotel"===k?"Hotel":"Booking"]})]})]})]})}}}]);
//# sourceMappingURL=627.e4dce6a0.chunk.js.map